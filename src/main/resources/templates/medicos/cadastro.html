<!-- templates/medicos/cadastro.html -->
<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/header :: header(title='Página Inicial')}"></head>
<body>
<div th:replace="~{fragments/nav :: navbar}"></div>

<div class="container">
  <h2 th:text="${medico.id} != null ? 'Editar Médico' : 'Cadastrar Médico'" class="mb-4"></h2>

  <form th:action="@{/medicos}" th:object="${medico}" method="post">
    <input type="hidden" th:field="*{id}"/>
    <div class="mb-3">
      <label class="form-label">Nome</label>
      <input type="text" class="form-control" th:field="*{nome}" required>
    </div>
    <div class="mb-3">
      <label class="form-label">CRM</label>
      <input type="text" class="form-control" th:field="*{crm}" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Especialidade</label>
      <select class="form-select" th:field="*{especialidade}" required>
        <option value="" disabled th:text="${medico.especialidade} == null ? 'Selecione...' : ''">Selecione...</option>
        <option value="Cardiologia">Cardiologia</option>
        <option value="Dermatologia">Dermatologia</option>
        <option value="Pediatria">Pediatria</option>
        <option value="Ortopedia">Ortopedia</option>
        <option value="Ginecologia e Obstetrícia">Ginecologia e obstetrícia</option>
        <option value="Neurologia">Neurologia</option>
        <option value="Psiquiatria">Psiquiatria</option>
        <option value="Oftalmologia">Oftalmologia</option>
        <option value="Otorrinolaringologia">Otorrinolaringologia</option>
        <option value="Oncologia">Oncologia</option>
        <option value="Urologia">Urologia</option>
        <option value="Endocrinologia">Endocrinologia</option>
        <option value="Gastroenterologia">Gastroenterologia</option>
        <option value="Reumatologia">Reumatologia</option>
        <option value="Nefrologia">Nefrologia</option>
        <option value="Pneumologia">Pneumologia</option>
        <option value="Hematologia">Hematologia</option>
        <option value="Infectologia">Infectologia</option>
        <option value="Alergia e Imunologia">Alergia e imunologia</option>
        <option value="Cirurgia Geral">Cirurgia geral</option>
        <option value="Cirurgia Plástica">Cirurgia plástica</option>
        <option value="Anestesiologia">Anestesiologia</option>
        <option value="Radiologia">Radiologia</option>
        <option value="Medicina de Família e Comunidade">Medicina de família e comunidade</option>
        <option value="Clínica Médica / Medicina Interna">Clínica médica / medicina interna</option>
        <option value="Medicina Física e Reabilitação">Medicina física e reabilitação</option>
        <option value="Outras">Outras</option>
      </select>
    </div>

    <button type="submit" class="btn btn-primary">Salvar</button>
    <a class="btn btn-secondary" th:href="@{/medicos}">Cancelar</a>
  </form>
</div>

<div th:replace="~{fragments/footer :: footer}"></div>


  <div th:if="${mensagem}" th:with="msg=${mensagem}, tipo=${tipoMensagem}">
    <script th:inline="javascript">
      /*<![CDATA[*/
      let mensagem = /*[[${msg}]]*/ '';
      let tipo = /*[[${tipo}]]*/ '';
      if (mensagem && tipo) {
        if (tipo === 'sucesso') {
          alertaSucesso(mensagem);
        } else {
          alertaErro(mensagem);
        }
      }
      /*]]>*/
    </script>
  </div>

</body>
</html>
